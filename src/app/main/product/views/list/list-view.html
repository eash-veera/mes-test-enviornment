<!-- PRODUCT LIST ITEMS -->
<div class="product-list-item {{product.status}}" ng-repeat="product in vm.products | filter: vm.search | filter: global.search"
     md-ink-ripple
     ng-click="vm.selectProduct(product)"
     ng-class="{'starred': product.starred, 'selected': vm.selectedMail === product, 'checked': vm.isChecked(product)}">

    <div layout="row" layout-align="start center">
        <md-checkbox class="no-label"
                     ng-checked="vm.isChecked(product)"
                     ng-click="vm.toggleCheck(product, $event)"
                     aria-label="{{vm.isChecked(product)? 'Uncheck':'check'}}">
        </md-checkbox>


        <div class="info" flex layout="row">
            <div class="prodImage" layout="row" layout-align="start center">
                <img class="listMedia" ng-if="product.attachedfile" alt="{{product.name}}" ng-src="{{product.attachedfile}}"/>

                <div class="listMedia" ng-if="!product.attachedfile" ms-random-class="vm.colors">
                    {{attachedfile.name[0]}}
                </div>
            </div>

            <div class="prodMainInfo" layout="column" layout-align="center start">
                <span class="text-truncate">{{product.name}}</span>                
                <div class="code text-truncate">
                    Code : {{product.code}}
                </div>
            </div>

            <div class="prodCost" flex layout="column" layout-align="center end">
                <span class="text-truncate">{{product.price | currency}}</span> 
            </div>
        </div>

        <div layout="row" layout-align="space-between end">
            <md-button class="md-icon-button" ng-click="vm.toggleStarred(product, $event)"
                       aria-label="Toggle starred">
                <md-icon ng-if="product.starred" md-font-icon="icon-star"
                         class="amber-fg"></md-icon>
                <md-icon ng-if="!product.starred" md-font-icon="icon-star-outline"></md-icon>
            </md-button>
        </div>
    </div>
</div>
<!-- PRODUCT LIST ITEMS -->